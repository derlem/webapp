{% extends "base.html" %}

{% load static %}

{% block title %}Ngram Viewer{% endblock %}

{% block css %}
  {{ block.super }}

  <link href="{% static 'css/chart.css' %}" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-dropdown/2.0.3/jquery.dropdown.min.css"
        integrity="sha256-ngjcGjq15feiYxnIeGegrvq0sufHHCOWxofBqmuWhZI=" crossorigin="anonymous"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/7.0.9/jquery.nouislider.min.css"
        integrity="sha256-AVID1gXCE2bU+sNHe01Mm1kPEhf2wLTKRlFwANIleu0=" crossorigin="anonymous"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/7.0.9/jquery.nouislider.pips.min.css"
        integrity="sha256-9G/jDDuFGtdrl3/uabtdkGyBYLMd6GQ4fcpKrFGwsuc=" crossorigin="anonymous"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css"
        integrity="sha256-rByPlHULObEjJ6XQxW/flG2r+22R5dKiAoef+aXWfik=" crossorigin="anonymous"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.8.6/nv.d3.min.css"
        integrity="sha256-bmrwGjHOoD7azP+ZpGcOOitUNUGNRjwzjK1bZeTK6fI=" crossorigin="anonymous"/>

{% endblock %}

{% block content %}
  <div id="main">
    <div id="form-wrap">
      <form class="facets no-print"
            action="javascript:search($('#terms').val(), $('input[name=lang]:checked').val(), $('input[name=corpus]:checked').val())">
        <input class="search"
               id="terms"
               type="search"
               name="search"
               onfocus="this.value = this.value;"
               autofocus=""
               value=""
               placeholder="Enter search terms, separated by comma"/>
        <button class="search" id="search-button" type="submit">Search</button>

        <button class="search" id="downloads-menu" data-dropdown="#dropdown-1"><img
          src="{% static 'images/icons/ic_file_download_black_18dp.png' %}" alt="Alternativer"/></button>

        </input>
      </form>
    </div>
    <div id="content-wrap">
      <div id="chart">
        <svg></svg>
      </div>
    </div>
    <div id="range-wrap" class="no-print">
      <div id="select_lower">
        <select id="input-select-lower" class="selector" type="number">
        </select>
      </div>
      <div id=slider_container>
        <div id="slider" class="selector"></div>
        <div class="label">Period</div>
      </div>
      <div id="select_upper">
        <select id="input-select-upper" class="selector" type="number">
        </select>
      </div>
      <div id=smoothing_container>
        <div id="smoothing_slider" class="selector"></div>
        <div class="label">Smoothing</div>
      </div>
    </div>
  </div>

  <div id="dropdown-1" class="dropdown dropdown-tip">
    <ul class="dropdown-menu">
      <li><a onClick="save_as_svg()">Chart (.SVG)</a></li>
      <li><a onClick="save_as_csv()">Data (.CSV)</a></li>
    </ul>
  </div>
{% endblock %}

{% block javascript %}
  {{ block.super }}

  <!-- JQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"
          integrity="sha256-VAvG3sHdS5LqTT+5A/aeq/bZGa/Uj04xKxY8KM/w9EE=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"
          integrity="sha256-KM512VNnjElC30ehFwehXjx1YCHPiQkOPmqnrWtpccM=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/7.0.9/jquery.nouislider.all.min.js"
          integrity="sha256-u/lOVDgzOuAI6bdCzx3XTdMQ9zhevm+e9P3IKXbeNKY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-dropdown/2.0.3/jquery.dropdown.min.js"
          integrity="sha256-WjSLNFIPnKGDcCD43ypegq+F+/M0WFws4KmtyOVsf0g=" crossorigin="anonymous"></script>

  <script type="text/javascript">
    jQuery.browser = {};
    (function () {
      jQuery.browser.msie = false;
      jQuery.browser.version = 0;
      if (navigator.userAgent.match(/MSIE ([0-9]+)\./)) {
        jQuery.browser.msie = true;
        jQuery.browser.version = RegExp.$1;
      }
    })();
  </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/wnumb/1.1.0/wNumb.min.js"
          integrity="sha256-HT7c4lBipI1Hkl/uvUrU1HQx4WF3oQnSafPjgR9Cn8A=" crossorigin="anonymous"></script>

  <!-- Hashchange -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.ba-bbq/1.2.1/jquery.ba-bbq.min.js"
          integrity="sha256-Q5DFmjmKsdEktdqliHKLHwXe3hRFVbSylwY2PqoAC+8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-hashchange/v1.3/jquery.ba-hashchange.min.js"
          integrity="sha256-+DUl8W/4Nf5XWL5vUx7NXk79zkZfWTXeBE8WJajQ17M=" crossorigin="anonymous"></script>

  <!-- D3 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js"
          integrity="sha256-va1Vhe+all/yVFhzgwmwBgWMVfLHjXlNJfvsrjUBRgk=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.8.6/nv.d3.min.js"
          integrity="sha256-Eg29ohiE9Hzc/t5whG/QK/B8MGmrO4wkF6WGuSsx0VU=" crossorigin="anonymous"></script>

  <!-- FileSaver -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/blob-polyfill/3.0.20180112/Blob.min.js"
          integrity="sha256-sXv+S0nOsl2AGmGfj0kNffY6j1vBpc6qtohy3WZLze8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.8/FileSaver.min.js"
          integrity="sha256-FPJJt8nA+xL4RU6/gsriA8p8xAeLGatoyTjldvQKGdE=" crossorigin="anonymous"></script>

  <!-- json og csvparser -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/4.6.2/papaparse.min.js"
          integrity="sha256-ApuxxH+MgIYPzWwZKhZEYrWY6StHfnu+ossxreP3A1g=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/spin.js/2.3.2/spin.min.js"
          integrity="sha256-PieqE0QdEDMppwXrTzSZQr6tWFX3W5KkyRVyF1zN3eg=" crossorigin="anonymous"></script>

  <script src="{% static 'js/chart.js' %}"></script>

{% endblock %}
